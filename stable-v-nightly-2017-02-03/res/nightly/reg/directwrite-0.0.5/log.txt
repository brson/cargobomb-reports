boom! testing directwrite-0.0.5 against nightly for nightly
boom! running: cargo +nightly build --frozen
boom! creating container for: cargo +nightly build --frozen
boom! running `docker create -v /home/ec2-user/cargobomb/./work/local/test-source/nightly/nightly:/source:ro -v /home/ec2-user/cargobomb/./work/local/cargo-home:/cargo-home:ro -v /home/ec2-user/cargobomb/./work/local/rustup-home:/rustup-home:ro -v /home/ec2-user/cargobomb/./work/local/target-dirs/nightly/nightly:/target:rw -e USER_ID=500 -e CMD=cargo +nightly build --frozen cargobomb`
blam! 22b8b410f32ba753e3ffdff3ec58192f2444c432e1df010e487c1e47daff0b03
boom! running `docker start -a 22b8b410f32ba753e3ffdff3ec58192f2444c432e1df010e487c1e47daff0b03`
kablam!    Compiling directwrite v0.0.5 (file:///source)
kablam! error[E0432]: unresolved import `std::os::windows::ffi::OsStrExt`
kablam!  --> src/helpers.rs:3:5
kablam!   |
kablam! 3 | use std::os::windows::ffi::OsStrExt;
kablam!   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Could not find `windows` in `os`
kablam! 
kablam! error[E0412]: cannot find type `ULONG` in this scope
kablam!  --> src/comptr.rs:7:42
kablam!   |
kablam! 7 |     unsafe fn add_ref(ptr: *mut Self) -> ULONG;
kablam!   |                                          ^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `ULONG` in this scope
kablam!  --> src/comptr.rs:8:42
kablam!   |
kablam! 8 |     unsafe fn release(ptr: *mut Self) -> ULONG;
kablam!   |                                          ^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `REFIID` in this scope
kablam!  --> src/comptr.rs:9:53
kablam!   |
kablam! 9 |     unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT;
kablam!   |                                                     ^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `c_void` in this scope
kablam!  --> src/comptr.rs:9:76
kablam!   |
kablam! 9 |     unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT;
kablam!   |                                                                            ^^^^^^ not found in this scope
kablam!   |
kablam!   = help: possible candidate is found in another module, you can import it into scope:
kablam!             `use std::os::raw::c_void;`
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!  --> src/comptr.rs:9:87
kablam!   |
kablam! 9 |     unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT;
kablam!   |                                                                                       ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IID` in this scope
kablam!   --> src/comptr.rs:13:17
kablam!    |
kablam! 13 |     fn iid() -> IID;
kablam!    |                 ^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IUnknown` in this scope
kablam!   --> src/comptr.rs:17:22
kablam!    |
kablam! 17 | impl_com_refcount! { IUnknown, "00000000-0000-0000-C000-000000000046" }
kablam!    | ---------------------^^^^^^^^------------------------------------------
kablam!    | |                    |
kablam!    | |                    not found in this scope
kablam!    | in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `ULONG` in this scope
kablam!   --> src/macros.rs:5:50
kablam!    |
kablam! 5  |             unsafe fn add_ref(ptr: *mut Self) -> ULONG {
kablam!    |                                                  ^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 17 | impl_com_refcount! { IUnknown, "00000000-0000-0000-C000-000000000046" }
kablam!    | ----------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `ULONG` in this scope
kablam!   --> src/macros.rs:9:50
kablam!    |
kablam! 9  |             unsafe fn release(ptr: *mut Self) -> ULONG {
kablam!    |                                                  ^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 17 | impl_com_refcount! { IUnknown, "00000000-0000-0000-C000-000000000046" }
kablam!    | ----------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `REFIID` in this scope
kablam!   --> src/macros.rs:13:61
kablam!    |
kablam! 13 |             unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT {
kablam!    |                                                             ^^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 17 | impl_com_refcount! { IUnknown, "00000000-0000-0000-C000-000000000046" }
kablam!    | ----------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `c_void` in this scope
kablam!   --> src/macros.rs:13:84
kablam!    |
kablam! 13 |             unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT {
kablam!    |                                                                                    ^^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 17 | impl_com_refcount! { IUnknown, "00000000-0000-0000-C000-000000000046" }
kablam!    | ----------------------------------------------------------------------- in this macro invocation
kablam!    |
kablam!    = help: possible candidate is found in another module, you can import it into scope:
kablam!              `use std::os::raw::c_void;`
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/macros.rs:13:95
kablam!    |
kablam! 13 |             unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT {
kablam!    |                                                                                               ^^^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 17 | impl_com_refcount! { IUnknown, "00000000-0000-0000-C000-000000000046" }
kablam!    | ----------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `IUnknown` in this scope
kablam!   --> src/comptr.rs:17:22
kablam!    |
kablam! 17 | impl_com_refcount! { IUnknown, "00000000-0000-0000-C000-000000000046" }
kablam!    | ---------------------^^^^^^^^------------------------------------------
kablam!    | |                    |
kablam!    | |                    not found in this scope
kablam!    | in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `IID` in this scope
kablam!   --> src/macros.rs:21:25
kablam!    |
kablam! 21 |             fn iid() -> IID {
kablam!    |                         ^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 17 | impl_com_refcount! { IUnknown, "00000000-0000-0000-C000-000000000046" }
kablam!    | ----------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `IDWriteFactory` in this scope
kablam!   --> src/comptr.rs:18:22
kablam!    |
kablam! 18 | impl_com_refcount! { IDWriteFactory, "b859ee5a-d838-4b5b-a2e8-1adc7d93db48" }
kablam!    | ---------------------^^^^^^^^^^^^^^------------------------------------------
kablam!    | |                    |
kablam!    | |                    not found in this scope
kablam!    | in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `ULONG` in this scope
kablam!   --> src/macros.rs:5:50
kablam!    |
kablam! 5  |             unsafe fn add_ref(ptr: *mut Self) -> ULONG {
kablam!    |                                                  ^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 18 | impl_com_refcount! { IDWriteFactory, "b859ee5a-d838-4b5b-a2e8-1adc7d93db48" }
kablam!    | ----------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `ULONG` in this scope
kablam!   --> src/macros.rs:9:50
kablam!    |
kablam! 9  |             unsafe fn release(ptr: *mut Self) -> ULONG {
kablam!    |                                                  ^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 18 | impl_com_refcount! { IDWriteFactory, "b859ee5a-d838-4b5b-a2e8-1adc7d93db48" }
kablam!    | ----------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `REFIID` in this scope
kablam!   --> src/macros.rs:13:61
kablam!    |
kablam! 13 |             unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT {
kablam!    |                                                             ^^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 18 | impl_com_refcount! { IDWriteFactory, "b859ee5a-d838-4b5b-a2e8-1adc7d93db48" }
kablam!    | ----------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `c_void` in this scope
kablam!   --> src/macros.rs:13:84
kablam!    |
kablam! 13 |             unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT {
kablam!    |                                                                                    ^^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 18 | impl_com_refcount! { IDWriteFactory, "b859ee5a-d838-4b5b-a2e8-1adc7d93db48" }
kablam!    | ----------------------------------------------------------------------------- in this macro invocation
kablam!    |
kablam!    = help: possible candidate is found in another module, you can import it into scope:
kablam!              `use std::os::raw::c_void;`
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/macros.rs:13:95
kablam!    |
kablam! 13 |             unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT {
kablam!    |                                                                                               ^^^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 18 | impl_com_refcount! { IDWriteFactory, "b859ee5a-d838-4b5b-a2e8-1adc7d93db48" }
kablam!    | ----------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `IDWriteFactory` in this scope
kablam!   --> src/comptr.rs:18:22
kablam!    |
kablam! 18 | impl_com_refcount! { IDWriteFactory, "b859ee5a-d838-4b5b-a2e8-1adc7d93db48" }
kablam!    | ---------------------^^^^^^^^^^^^^^------------------------------------------
kablam!    | |                    |
kablam!    | |                    not found in this scope
kablam!    | in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `IID` in this scope
kablam!   --> src/macros.rs:21:25
kablam!    |
kablam! 21 |             fn iid() -> IID {
kablam!    |                         ^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 18 | impl_com_refcount! { IDWriteFactory, "b859ee5a-d838-4b5b-a2e8-1adc7d93db48" }
kablam!    | ----------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `IDWriteTextFormat` in this scope
kablam!   --> src/comptr.rs:19:22
kablam!    |
kablam! 19 | impl_com_refcount! { IDWriteTextFormat, "9c906818-31d7-4fd3-a151-7c5e225db55a" }
kablam!    | ---------------------^^^^^^^^^^^^^^^^^------------------------------------------
kablam!    | |                    |
kablam!    | |                    not found in this scope
kablam!    | in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `ULONG` in this scope
kablam!   --> src/macros.rs:5:50
kablam!    |
kablam! 5  |             unsafe fn add_ref(ptr: *mut Self) -> ULONG {
kablam!    |                                                  ^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 19 | impl_com_refcount! { IDWriteTextFormat, "9c906818-31d7-4fd3-a151-7c5e225db55a" }
kablam!    | -------------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `ULONG` in this scope
kablam!   --> src/macros.rs:9:50
kablam!    |
kablam! 9  |             unsafe fn release(ptr: *mut Self) -> ULONG {
kablam!    |                                                  ^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 19 | impl_com_refcount! { IDWriteTextFormat, "9c906818-31d7-4fd3-a151-7c5e225db55a" }
kablam!    | -------------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `REFIID` in this scope
kablam!   --> src/macros.rs:13:61
kablam!    |
kablam! 13 |             unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT {
kablam!    |                                                             ^^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 19 | impl_com_refcount! { IDWriteTextFormat, "9c906818-31d7-4fd3-a151-7c5e225db55a" }
kablam!    | -------------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `c_void` in this scope
kablam!   --> src/macros.rs:13:84
kablam!    |
kablam! 13 |             unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT {
kablam!    |                                                                                    ^^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 19 | impl_com_refcount! { IDWriteTextFormat, "9c906818-31d7-4fd3-a151-7c5e225db55a" }
kablam!    | -------------------------------------------------------------------------------- in this macro invocation
kablam!    |
kablam!    = help: possible candidate is found in another module, you can import it into scope:
kablam!              `use std::os::raw::c_void;`
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/macros.rs:13:95
kablam!    |
kablam! 13 |             unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT {
kablam!    |                                                                                               ^^^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 19 | impl_com_refcount! { IDWriteTextFormat, "9c906818-31d7-4fd3-a151-7c5e225db55a" }
kablam!    | -------------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `IDWriteTextFormat` in this scope
kablam!   --> src/comptr.rs:19:22
kablam!    |
kablam! 19 | impl_com_refcount! { IDWriteTextFormat, "9c906818-31d7-4fd3-a151-7c5e225db55a" }
kablam!    | ---------------------^^^^^^^^^^^^^^^^^------------------------------------------
kablam!    | |                    |
kablam!    | |                    not found in this scope
kablam!    | in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `IID` in this scope
kablam!   --> src/macros.rs:21:25
kablam!    |
kablam! 21 |             fn iid() -> IID {
kablam!    |                         ^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 19 | impl_com_refcount! { IDWriteTextFormat, "9c906818-31d7-4fd3-a151-7c5e225db55a" }
kablam!    | -------------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `IDWriteTextLayout` in this scope
kablam!   --> src/comptr.rs:20:22
kablam!    |
kablam! 20 | impl_com_refcount! { IDWriteTextLayout, "53737037-6d14-410b-9bfe-0b182bb70961" }
kablam!    | ---------------------^^^^^^^^^^^^^^^^^------------------------------------------
kablam!    | |                    |
kablam!    | |                    not found in this scope
kablam!    | in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `ULONG` in this scope
kablam!   --> src/macros.rs:5:50
kablam!    |
kablam! 5  |             unsafe fn add_ref(ptr: *mut Self) -> ULONG {
kablam!    |                                                  ^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 20 | impl_com_refcount! { IDWriteTextLayout, "53737037-6d14-410b-9bfe-0b182bb70961" }
kablam!    | -------------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `ULONG` in this scope
kablam!   --> src/macros.rs:9:50
kablam!    |
kablam! 9  |             unsafe fn release(ptr: *mut Self) -> ULONG {
kablam!    |                                                  ^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 20 | impl_com_refcount! { IDWriteTextLayout, "53737037-6d14-410b-9bfe-0b182bb70961" }
kablam!    | -------------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `REFIID` in this scope
kablam!   --> src/macros.rs:13:61
kablam!    |
kablam! 13 |             unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT {
kablam!    |                                                             ^^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 20 | impl_com_refcount! { IDWriteTextLayout, "53737037-6d14-410b-9bfe-0b182bb70961" }
kablam!    | -------------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `c_void` in this scope
kablam!   --> src/macros.rs:13:84
kablam!    |
kablam! 13 |             unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT {
kablam!    |                                                                                    ^^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 20 | impl_com_refcount! { IDWriteTextLayout, "53737037-6d14-410b-9bfe-0b182bb70961" }
kablam!    | -------------------------------------------------------------------------------- in this macro invocation
kablam!    |
kablam!    = help: possible candidate is found in another module, you can import it into scope:
kablam!              `use std::os::raw::c_void;`
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/macros.rs:13:95
kablam!    |
kablam! 13 |             unsafe fn query_interface(ptr: *mut Self, riid: REFIID, ppv: *mut *mut c_void) -> HRESULT {
kablam!    |                                                                                               ^^^^^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 20 | impl_com_refcount! { IDWriteTextLayout, "53737037-6d14-410b-9bfe-0b182bb70961" }
kablam!    | -------------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `IDWriteTextLayout` in this scope
kablam!   --> src/comptr.rs:20:22
kablam!    |
kablam! 20 | impl_com_refcount! { IDWriteTextLayout, "53737037-6d14-410b-9bfe-0b182bb70961" }
kablam!    | ---------------------^^^^^^^^^^^^^^^^^------------------------------------------
kablam!    | |                    |
kablam!    | |                    not found in this scope
kablam!    | in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `IID` in this scope
kablam!   --> src/macros.rs:21:25
kablam!    |
kablam! 21 |             fn iid() -> IID {
kablam!    |                         ^^^ not found in this scope
kablam!    | 
kablam!   ::: src/comptr.rs
kablam!    |
kablam! 20 | impl_com_refcount! { IDWriteTextLayout, "53737037-6d14-410b-9bfe-0b182bb70961" }
kablam!    | -------------------------------------------------------------------------------- in this macro invocation
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/comptr.rs:46:80
kablam!    |
kablam! 46 |     pub fn query_interface<U: ComUnknown + HasIID>(&self) -> Result<ComPtr<U>, HRESULT> {
kablam!    |                                                                                ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find value `E_POINTER` in this scope
kablam!   --> src/comptr.rs:49:39
kablam!    |
kablam! 49 |                 return Err(From::from(E_POINTER));
kablam!    |                                       ^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find function `SUCCEEDED` in this scope
kablam!   --> src/comptr.rs:55:16
kablam!    |
kablam! 55 |             if SUCCEEDED(hr) {
kablam!    |                ^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `c_void` in this scope
kablam!   --> src/comptr.rs:88:52
kablam!    |
kablam! 88 |     pub unsafe fn raw_void(&mut self) -> *mut *mut c_void {
kablam!    |                                                    ^^^^^^ not found in this scope
kablam!    |
kablam!    = help: possible candidate is found in another module, you can import it into scope:
kablam!              `use std::os::raw::c_void;`
kablam! 
kablam! error[E0412]: cannot find type `c_void` in this scope
kablam!   --> src/comptr.rs:90:38
kablam!    |
kablam! 90 |         self.raw_addr() as *mut *mut c_void
kablam!    |                                      ^^^^^^ not found in this scope
kablam!    |
kablam!    = help: possible candidate is found in another module, you can import it into scope:
kablam!              `use std::os::raw::c_void;`
kablam! 
kablam! error[E0412]: cannot find type `IID` in this scope
kablam!   --> src/comptr.rs:95:26
kablam!    |
kablam! 95 |     pub fn iid(&self) -> IID {
kablam!    |                          ^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IDWriteFactory` in this scope
kablam!  --> src/factory.rs:7:17
kablam!   |
kablam! 7 |     ptr: ComPtr<IDWriteFactory>,
kablam!   |                 ^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!  --> src/error.rs:8:13
kablam!   |
kablam! 8 |         hr: HRESULT,
kablam!   |             ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/error.rs:13:11
kablam!    |
kablam! 13 | impl From<HRESULT> for DWriteError {
kablam!    |           ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/error.rs:14:17
kablam!    |
kablam! 14 |     fn from(hr: HRESULT) -> DWriteError {
kablam!    |                 ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IDWriteFactory` in this scope
kablam!  --> src/internal.rs:7:34
kablam!   |
kablam! 7 |     fn from_params(factory: &mut IDWriteFactory, params: Self::Params) -> Result<Self, DWriteError>;
kablam!   |                                  ^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IDWriteTextFormat` in this scope
kablam!   --> src/text_format.rs:11:17
kablam!    |
kablam! 11 |     ptr: ComPtr<IDWriteTextFormat>,
kablam!    |                 ^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IDWriteTextFormat` in this scope
kablam!   --> src/text_format.rs:15:44
kablam!    |
kablam! 15 |     pub unsafe fn get_ptr(&self) -> ComPtr<IDWriteTextFormat> {
kablam!    |                                            ^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IDWriteTextFormat` in this scope
kablam!   --> src/text_format.rs:19:42
kablam!    |
kablam! 19 |     pub unsafe fn get_raw(&self) -> *mut IDWriteTextFormat {
kablam!    |                                          ^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IDWriteFactory` in this scope
kablam!   --> src/text_format.rs:27:34
kablam!    |
kablam! 27 |     fn from_params(factory: &mut IDWriteFactory, params: Params) -> Result<Self, DWriteError> {
kablam!    |                                  ^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IDWriteTextFormat` in this scope
kablam!   --> src/text_format.rs:29:33
kablam!    |
kablam! 29 |             let mut ptr: ComPtr<IDWriteTextFormat> = ComPtr::new();
kablam!    |                                 ^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find function `DWRITE_FONT_WEIGHT` in this scope
kablam!   --> src/text_format.rs:33:17
kablam!    |
kablam! 33 |                 DWRITE_FONT_WEIGHT(params.weight as u32),
kablam!    |                 ^^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find function `DWRITE_FONT_STYLE` in this scope
kablam!   --> src/text_format.rs:34:17
kablam!    |
kablam! 34 |                 DWRITE_FONT_STYLE(params.style as u32),
kablam!    |                 ^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find function `DWRITE_FONT_STRETCH` in this scope
kablam!   --> src/text_format.rs:35:17
kablam!    |
kablam! 35 |                 DWRITE_FONT_STRETCH(params.stretch as u32),
kablam!    |                 ^^^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find function `SUCCEEDED` in this scope
kablam!   --> src/text_format.rs:41:16
kablam!    |
kablam! 41 |             if SUCCEEDED(result) {
kablam!    |                ^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IDWriteTextLayout` in this scope
kablam!   --> src/text_layout.rs:11:17
kablam!    |
kablam! 11 |     ptr: ComPtr<IDWriteTextLayout>,
kablam!    |                 ^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IDWriteTextLayout` in this scope
kablam!   --> src/text_layout.rs:15:44
kablam!    |
kablam! 15 |     pub unsafe fn get_ptr(&self) -> ComPtr<IDWriteTextLayout> {
kablam!    |                                            ^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IDWriteTextLayout` in this scope
kablam!   --> src/text_layout.rs:19:42
kablam!    |
kablam! 19 |     pub unsafe fn get_raw(&self) -> *mut IDWriteTextLayout {
kablam!    |                                          ^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `DWRITE_TEXT_METRICS` in this scope
kablam!   --> src/text_layout.rs:25:30
kablam!    |
kablam! 25 |             let mut metrics: DWRITE_TEXT_METRICS = mem::uninitialized();
kablam!    |                              ^^^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `DWRITE_TEXT_METRICS` in this scope
kablam!   --> src/text_layout.rs:34:30
kablam!    |
kablam! 34 |             let mut metrics: DWRITE_TEXT_METRICS = mem::uninitialized();
kablam!    |                              ^^^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IDWriteTextLayout` in this scope
kablam!   --> src/text_layout.rs:41:34
kablam!    |
kablam! 41 |     unsafe fn ptr(&self) -> &mut IDWriteTextLayout {
kablam!    |                                  ^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IDWriteFactory` in this scope
kablam!   --> src/text_layout.rs:49:34
kablam!    |
kablam! 49 |     fn from_params(factory: &mut IDWriteFactory, params: Params) -> Result<Self, DWriteError> {
kablam!    |                                  ^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IDWriteTextLayout` in this scope
kablam!   --> src/text_layout.rs:51:33
kablam!    |
kablam! 51 |             let mut ptr: ComPtr<IDWriteTextLayout> = ComPtr::new();
kablam!    |                                 ^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find function `SUCCEEDED` in this scope
kablam!   --> src/text_layout.rs:61:16
kablam!    |
kablam! 61 |             if SUCCEEDED(result) {
kablam!    |                ^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find value `DWRITE_TEXT_ALIGNMENT_CENTER` in this scope
kablam!   --> src/text_layout.rs:63:42
kablam!    |
kablam! 63 |                     ptr.SetTextAlignment(DWRITE_TEXT_ALIGNMENT_CENTER);
kablam!    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `DWORD` in this scope
kablam!   --> src/helpers.rs:17:34
kablam!    |
kablam! 17 | pub fn hresult_from_win32(win32: DWORD) -> HRESULT {
kablam!    |                                  ^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/helpers.rs:17:44
kablam!    |
kablam! 17 | pub fn hresult_from_win32(win32: DWORD) -> HRESULT {
kablam!    |                                            ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/helpers.rs:18:17
kablam!    |
kablam! 18 |     if win32 as HRESULT <= 0 {
kablam!    |                 ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/helpers.rs:19:18
kablam!    |
kablam! 19 |         win32 as HRESULT
kablam!    |                  ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find value `FACILITY_WIN32` in this scope
kablam!   --> src/helpers.rs:21:35
kablam!    |
kablam! 21 |         ((win32 & 0x0000FFFF) | ((FACILITY_WIN32 as DWORD) << 16) | 0x80000000) as HRESULT
kablam!    |                                   ^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `DWORD` in this scope
kablam!   --> src/helpers.rs:21:53
kablam!    |
kablam! 21 |         ((win32 & 0x0000FFFF) | ((FACILITY_WIN32 as DWORD) << 16) | 0x80000000) as HRESULT
kablam!    |                                                     ^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/helpers.rs:21:84
kablam!    |
kablam! 21 |         ((win32 & 0x0000FFFF) | ((FACILITY_WIN32 as DWORD) << 16) | 0x80000000) as HRESULT
kablam!    |                                                                                    ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IID` in this scope
kablam!   --> src/helpers.rs:25:43
kablam!    |
kablam! 25 | pub fn uuid_to_iid(uuid: ::uuid::Uuid) -> IID {
kablam!    |                                           ^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IID` in this scope
kablam!   --> src/helpers.rs:26:18
kablam!    |
kablam! 26 |     let mut iid: IID = unsafe { mem::transmute(uuid) };
kablam!    |                  ^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/helpers.rs:34:30
kablam!    |
kablam! 34 | pub fn hresult_to_string(hr: HRESULT) -> Option<String> {
kablam!    |                              ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find function `FormatMessageA` in module `kernel32`
kablam!   --> src/helpers.rs:37:25
kablam!    |
kablam! 37 |         let num_chars = kernel32::FormatMessageA(
kablam!    |                         ^^^^^^^^^^^^^^^^^^^^^^^^ not found in `kernel32`
kablam! 
kablam! error[E0425]: cannot find value `FORMAT_MESSAGE_ALLOCATE_BUFFER` in this scope
kablam!   --> src/helpers.rs:38:13
kablam!    |
kablam! 38 |             FORMAT_MESSAGE_ALLOCATE_BUFFER |
kablam!    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find value `FORMAT_MESSAGE_FROM_SYSTEM` in this scope
kablam!   --> src/helpers.rs:39:13
kablam!    |
kablam! 39 |             FORMAT_MESSAGE_FROM_SYSTEM |
kablam!    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find value `FORMAT_MESSAGE_IGNORE_INSERTS` in this scope
kablam!   --> src/helpers.rs:40:13
kablam!    |
kablam! 40 |             FORMAT_MESSAGE_IGNORE_INSERTS,
kablam!    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `DWORD` in this scope
kablam!   --> src/helpers.rs:42:19
kablam!    |
kablam! 42 |             hr as DWORD,
kablam!    |                   ^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find function `LocalFree` in module `kernel32`
kablam!   --> src/helpers.rs:54:9
kablam!    |
kablam! 54 |         kernel32::LocalFree(buffer as *mut _);
kablam!    |         ^^^^^^^^^^^^^^^^^^^ not found in `kernel32`
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/helpers.rs:60:27
kablam!    |
kablam! 60 | pub fn last_error_hr() -> HRESULT {
kablam!    |                           ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find function `GetLastError` in module `kernel32`
kablam!   --> src/helpers.rs:61:33
kablam!    |
kablam! 61 |     hresult_from_win32(unsafe { kernel32::GetLastError() })
kablam!    |                                 ^^^^^^^^^^^^^^^^^^^^^^ not found in `kernel32`
kablam! 
kablam! error[E0412]: cannot find type `DWRITE_FACTORY_TYPE` in this scope
kablam!  --> src/load_dll.rs:8:5
kablam!   |
kablam! 8 |     DWRITE_FACTORY_TYPE, REFIID, *mut *mut IUnknown,
kablam!   |     ^^^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `REFIID` in this scope
kablam!  --> src/load_dll.rs:8:26
kablam!   |
kablam! 8 |     DWRITE_FACTORY_TYPE, REFIID, *mut *mut IUnknown,
kablam!   |                          ^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `IUnknown` in this scope
kablam!  --> src/load_dll.rs:8:44
kablam!   |
kablam! 8 |     DWRITE_FACTORY_TYPE, REFIID, *mut *mut IUnknown,
kablam!   |                                            ^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!  --> src/load_dll.rs:9:6
kablam!   |
kablam! 9 | ) -> HRESULT;
kablam!   |      ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `HMODULE` in this scope
kablam!   --> src/load_dll.rs:13:13
kablam!    |
kablam! 13 |     handle: HMODULE,
kablam!    |             ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/load_dll.rs:17:37
kablam!    |
kablam! 17 |     pub fn load() -> Result<DWrite, HRESULT> {
kablam!    |                                     ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find function `GetModuleHandleA` in module `kernel32`
kablam!   --> src/load_dll.rs:20:30
kablam!    |
kablam! 20 |             let mut handle = kernel32::GetModuleHandleA(dll.as_ptr());
kablam!    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^ not found in `kernel32`
kablam! 
kablam! error[E0425]: cannot find function `LoadLibraryA` in module `kernel32`
kablam!   --> src/load_dll.rs:22:26
kablam!    |
kablam! 22 |                 handle = kernel32::LoadLibraryA(dll.as_ptr());
kablam!    |                          ^^^^^^^^^^^^^^^^^^^^^^ not found in `kernel32`
kablam! 
kablam! error[E0412]: cannot find type `IDWriteFactory` in this scope
kablam!   --> src/load_dll.rs:33:67
kablam!    |
kablam! 33 |     pub fn create_factory(&self, isolated: bool) -> Result<ComPtr<IDWriteFactory>, HRESULT> {
kablam!    |                                                                   ^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0412]: cannot find type `HRESULT` in this scope
kablam!   --> src/load_dll.rs:33:84
kablam!    |
kablam! 33 |     pub fn create_factory(&self, isolated: bool) -> Result<ComPtr<IDWriteFactory>, HRESULT> {
kablam!    |                                                                                    ^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find function `GetProcAddress` in module `kernel32`
kablam!   --> src/load_dll.rs:36:38
kablam!    |
kablam! 36 |             let create_factory_ptr = kernel32::GetProcAddress(self.handle, procedure.as_ptr());
kablam!    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^ not found in `kernel32`
kablam! 
kablam! error[E0412]: cannot find type `IDWriteFactory` in this scope
kablam!   --> src/load_dll.rs:43:36
kablam!    |
kablam! 43 |             let mut ptr = ComPtr::<IDWriteFactory>::new();
kablam!    |                                    ^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find value `DWRITE_FACTORY_TYPE_ISOLATED` in this scope
kablam!   --> src/load_dll.rs:45:31
kablam!    |
kablam! 45 |                 if isolated { DWRITE_FACTORY_TYPE_ISOLATED } else { DWRITE_FACTORY_TYPE_SHARED },
kablam!    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find value `DWRITE_FACTORY_TYPE_SHARED` in this scope
kablam!   --> src/load_dll.rs:45:69
kablam!    |
kablam! 45 |                 if isolated { DWRITE_FACTORY_TYPE_ISOLATED } else { DWRITE_FACTORY_TYPE_SHARED },
kablam!    |                                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^ not found in this scope
kablam! 
kablam! error[E0425]: cannot find function `SUCCEEDED` in this scope
kablam!   --> src/load_dll.rs:50:16
kablam!    |
kablam! 50 |             if SUCCEEDED(result) {
kablam!    |                ^^^^^^^^^ not found in this scope
kablam! 
kablam! error: the type of this value must be known in this context
kablam!   --> src/factory.rs:13:24
kablam!    |
kablam! 13 |         let ptr = try!(dwrite.create_factory(false));
kablam!    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
kablam! 
kablam! error: no method named `encode_wide` found for type `&std::ffi::OsStr` in the current scope
kablam!   --> src/helpers.rs:75:23
kablam!    |
kablam! 75 |         self.as_ref().encode_wide().collect()
kablam!    |                       ^^^^^^^^^^^
kablam! 
kablam! error: no method named `encode_wide` found for type `&std::ffi::OsStr` in the current scope
kablam!   --> src/helpers.rs:78:23
kablam!    |
kablam! 78 |         self.as_ref().encode_wide().chain(Some(0)).collect() 
kablam!    |                       ^^^^^^^^^^^
kablam! 
kablam! error: aborting due to 3 previous errors
kablam! 
kablam! error: Could not compile `directwrite`.
kablam! 
kablam! To learn more, run the command again with --verbose.
boom! running `docker rm -f 22b8b410f32ba753e3ffdff3ec58192f2444c432e1df010e487c1e47daff0b03`
blam! 22b8b410f32ba753e3ffdff3ec58192f2444c432e1df010e487c1e47daff0b03
